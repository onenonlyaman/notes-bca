<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiments</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Styles for the overlay and popup */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .overlay.show {
            display: block;
            opacity: 1;
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            z-index: 1001;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.3s ease, opacity 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }

        .dark-mode .popup {
            background-color: #3d3d3d;
        }

        .popup.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .mini-player {
            display: none;
            position: fixed;
            bottom: 20px;
            background-color: #fff;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            right: 20px;
            opacity: 0;
            transition: transform 0.5s ease;
            -webkit-tap-highlight-color: transparent;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }

        .mini-player.show {
            opacity: 1;
        }

        .dark-mode .mini-player {
            background-color: #3d3d3d;
        }

        /* mini player button styling */
        .mini-player button {
            background-color: #e0e0e0;
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
            color: #333;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }

        .dark-mode .mini-player button {
            color: #fff;
            background-color: #222;
        }

        .mini-player button:hover {
            background-color: #bdbdbd;
            transform: scale(1.05);
        }

        .mini-player button:active {
            /* Style for when button is clicked */
            background-color: #9e9e9e;
            /* Darker gray when clicked */
            transform: scale(0.95);
            /* Subtle scale down effect when clicked*/
        }
    </style>
<meta name="google-adsense-account" content="ca-pub-4055560731029836">
</head>

<body>
    <img class="dark-mode-button" onclick="toggleDarkMode()" src="resources/dm.svg" id="icon">

    <div class="container">
        <h1>Bachelor of Computer Applications</h1>
        <div class="intro">
            <p>This section is highly experimental and subject to change. Content may be updated or removed without
                prior notice. Currently, it features podcasts generated by Google, based on notes from each semester of
                the Bachelor of Computer Applications program.
            </p>
        </div>

        <div class="grid-container">
            <div class="note-box" id="semester1Podcast">
                <h3>Semester I</h3>
                <h6>Podcast</h6>
            </div>
        </div>

        <div class="footer">

        </div>
    </div>
    <div class="overlay" id="overlay"></div>
    <div class="popup" id="popup">
        <audio id="audioPlayer" controls
            src="https://files.catbox.moe/9vn9yg.mp3"></audio>
    </div>

    <div class="mini-player" id="miniPlayer">
        <button id="miniPlayPause">Play</button>
    </div>

    <ul class="circles">
    </ul>

    <script src="script.js"></script>
    <script>
        const semester1Podcast = document.getElementById('semester1Podcast');
        const overlay = document.getElementById('overlay');
        const popup = document.getElementById('popup');
        const audioPlayer = document.getElementById('audioPlayer');
        const miniPlayer = document.getElementById('miniPlayer');
        const miniPlayPause = document.getElementById('miniPlayPause');

        semester1Podcast.addEventListener('click', () => {
            overlay.classList.add('show');  // Use classList for transitions
            popup.classList.add('show');
            audioPlayer.play();
            overlay.style.display = 'block';

            setTimeout(() => {
                overlay.classList.add('show');
                popup.classList.add('show');
                audioPlayer.play();
            }, 10);

            // Hide popup and show mini-player when clicking outside
            overlay.addEventListener('click', function handleOverlayClick(event) {
                if (event.target === overlay) {
                    overlay.classList.remove('show'); // Smooth fade out
                    popup.classList.remove('show');

                    miniPlayer.style.display = 'block';
                    setTimeout(() => {
                        miniPlayer.classList.add('show'); // Fade in mini-player
                    }, 10); // Small delay

                    overlay.addEventListener('transitionend', () => {
                        overlay.style.display = 'none';
                    }, { once: true }); // Listen only once

                    overlay.removeEventListener('click', handleOverlayClick); // Remove event
                }
            });
        });

        // Mini player controls
        miniPlayPause.addEventListener('click', () => {
            if (audioPlayer.paused) {
                audioPlayer.play();
                miniPlayPause.textContent = 'Pause';
            } else {
                audioPlayer.pause();
                miniPlayPause.textContent = 'Play';
            }
        });

        audioPlayer.addEventListener('play', () => {
            miniPlayPause.textContent = 'Pause';
        });

        audioPlayer.addEventListener('pause', () => {
            miniPlayPause.textContent = 'Play';
        });

    </script>
</body>

</html>